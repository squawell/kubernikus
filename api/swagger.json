{"consumes":["application/json"],"definitions":{"ApiVersions":{"properties":{"versions":{"description":"versions are the api versions that are available.","items":{"type":"string"},"type":"array"}},"required":["versions"]},"Credentials":{"properties":{"kubeconfig":{"type":"string"}},"type":"object"},"Event":{"properties":{"count":{"description":"The number of times this event has occurred.","type":"integer"},"firstTimestamp":{"description":"The time at which the event was first recorded","type":"string"},"lastTimestamp":{"description":"The time at which the most recent occurrence of this event was recorded","type":"string"},"message":{"description":"A human-readable description of the event","type":"string"},"reason":{"description":"A short, machine understandable string that gives the reason for the event","type":"string"},"type":{"description":"Type of this event","enum":["Normal","Warning"],"type":"string"}},"type":"object"},"Info":{"properties":{"version":{"type":"string"}}},"Kluster":{"properties":{"name":{"description":"name of the cluster","maxLength":20,"pattern":"^[a-z]([-a-z0-9]*[a-z0-9])?$","type":"string","x-nullable":false},"spec":{"$ref":"#/definitions/KlusterSpec"},"status":{"$ref":"#/definitions/KlusterStatus"}},"required":["name"],"type":"object"},"KlusterInfo":{"properties":{"binaries":{"items":{"properties":{"links":{"items":{"properties":{"link":{"type":"string"},"platform":{"type":"string"}},"type":"object","x-go-name":"Link","x-nullable":false},"type":"array"},"name":{"type":"string"}},"type":"object","x-go-name":"Binaries","x-nullable":false},"type":"array"},"setupCommand":{"type":"string"}}},"KlusterPhase":{"enum":["Pending","Creating","Running","Terminating"],"type":"string"},"KlusterSpec":{"properties":{"advertiseAddress":{"default":"1.1.1.1","type":"string","x-nullable":false},"clusterCIDR":{"default":"198.19.0.0/16","description":"CIDR Range for Pods in the cluster. Can not be updated.","pattern":"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\\/([0-9]|[1-2][0-9]|3[0-2]))$","type":"string","x-nullable":false},"dnsAddress":{"type":"string"},"dnsDomain":{"default":"cluster.local","type":"string","x-nullable":false},"name":{"readOnly":true,"type":"string"},"nodePools":{"items":{"$ref":"#/definitions/NodePool"},"type":"array"},"openstack":{"$ref":"#/definitions/OpenstackSpec"},"serviceCIDR":{"default":"198.18.128.0/17","description":"CIDR Range for Services in the cluster. Can not be updated.","pattern":"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\\/([0-9]|[1-2][0-9]|3[0-2]))$","type":"string","x-nullable":false},"sshPublicKey":{"description":"SSH public key that is injected into spawned nodes.","type":"string"},"version":{"pattern":"^[0-9]+\\.[0-9]+\\.[0-9]+$","readOnly":true,"type":"string"}},"type":"object","x-nullable":false},"KlusterStatus":{"properties":{"apiserver":{"type":"string"},"message":{"type":"string"},"nodePools":{"items":{"$ref":"#/definitions/NodePoolInfo"},"type":"array"},"phase":{"$ref":"#/definitions/KlusterPhase"},"version":{"type":"string"},"wormhole":{"type":"string"}},"readOnly":true,"type":"object","x-nullable":false},"NodePool":{"properties":{"config":{"$ref":"#/definitions/NodePoolConfig"},"flavor":{"type":"string","x-nullable":false},"image":{"default":"coreos-stable-amd64","type":"string","x-nullable":false},"name":{"pattern":"^[a-z]([a-z0-9]*)?$","type":"string","x-nullable":false},"size":{"default":0,"maximum":127,"minimum":0,"type":"integer","x-nullable":false}},"required":["name","flavor"],"type":"object","x-nullable":false},"NodePoolConfig":{"properties":{"repair":{"type":"boolean"},"upgrade":{"type":"boolean"}},"type":"object","x-nullable":false},"NodePoolInfo":{"properties":{"healthy":{"type":"integer"},"name":{"type":"string"},"running":{"type":"integer"},"schedulable":{"type":"integer"},"size":{"type":"integer"}},"type":"object","x-nullable":false},"OpenstackMetadata":{"properties":{"flavors":{"items":{"properties":{"id":{"type":"string"},"name":{"type":"string"},"ram":{"type":"integer"},"vcpus":{"type":"integer"}},"type":"object","x-go-name":"Flavor","x-nullable":false},"type":"array"},"keyPairs":{"items":{"properties":{"name":{"type":"string"},"publicKey":{"type":"string"}},"type":"object","x-go-name":"KeyPair"},"type":"array"},"routers":{"items":{"properties":{"id":{"type":"string"},"name":{"type":"string"},"networks":{"items":{"properties":{"id":{"type":"string"},"name":{"type":"string"},"subnets":{"items":{"properties":{"CIDR":{"type":"string"},"id":{"type":"string"},"name":{"type":"string"}},"type":"object","x-go-name":"Subnet"},"type":"array"}},"type":"object","x-go-name":"Network"},"type":"array"}},"type":"object","x-go-name":"Router"},"type":"array"},"securityGroups":{"items":{"properties":{"id":{"type":"string"},"name":{"type":"string"}},"type":"object","x-go-name":"SecurityGroup"},"type":"array"}},"type":"object"},"OpenstackSpec":{"properties":{"lbFloatingNetworkID":{"type":"string","x-go-name":"LBFloatingNetworkID"},"lbSubnetID":{"type":"string","x-go-name":"LBSubnetID"},"networkID":{"type":"string"},"projectID":{"type":"string"},"routerID":{"type":"string"},"securityGroupName":{"type":"string"}},"type":"object","x-nullable":false},"Principal":{"properties":{"account":{"description":"account id","type":"string"},"authUrl":{"description":"Identity Endpoint","type":"string"},"domain":{"description":"user's domain name","type":"string"},"id":{"description":"userid","type":"string"},"name":{"description":"username","type":"string"},"roles":{"description":"list of roles the user has in the given scope","items":{"type":"string"},"type":"array"}},"type":"object"},"error":{"description":"the error model is a model for all the error responses coming from Kubernikus\n","properties":{"code":{"description":"The error code","type":"integer"},"helpUrl":{"description":"link to help page explaining the error in more detail","format":"uri","type":"string"},"message":{"description":"The error message","type":"string"}},"required":["message","code"],"type":"object"}},"info":{"title":"Kubernikus","version":"1.0.0"},"paths":{"/api":{"get":{"operationId":"ListAPIVersions","responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ApiVersions"}}},"security":[],"summary":"List available api versions"}},"/api/v1/clusters":{"get":{"operationId":"ListClusters","responses":{"200":{"description":"OK","schema":{"items":{"$ref":"#/definitions/Kluster"},"type":"array"}},"default":{"$ref":"#/responses/errorResponse"}},"summary":"List available clusters"},"post":{"operationId":"CreateCluster","parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Kluster"}}],"responses":{"201":{"description":"OK","schema":{"$ref":"#/definitions/Kluster"}},"default":{"$ref":"#/responses/errorResponse"}},"summary":"Create a cluster"}},"/api/v1/clusters/{name}":{"delete":{"operationId":"TerminateCluster","responses":{"202":{"description":"OK"},"default":{"$ref":"#/responses/errorResponse"}},"summary":"Terminate the specified cluster"},"get":{"operationId":"ShowCluster","responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Kluster"}},"default":{"$ref":"#/responses/errorResponse"}},"summary":"Show the specified cluser"},"parameters":[{"in":"path","name":"name","required":true,"type":"string","uniqueItems":true}],"put":{"operationId":"UpdateCluster","parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Kluster"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Kluster"}},"default":{"$ref":"#/responses/errorResponse"}},"summary":"Update the specified cluser"}},"/api/v1/clusters/{name}/credentials":{"get":{"operationId":"GetClusterCredentials","responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Credentials"}},"default":{"$ref":"#/responses/errorResponse"}},"summary":"Get user specific credentials to access the cluster"},"parameters":[{"in":"path","name":"name","required":true,"type":"string","uniqueItems":true}]},"/api/v1/clusters/{name}/events":{"get":{"operationId":"GetClusterEvents","responses":{"200":{"description":"OK","schema":{"items":{"$ref":"#/definitions/Event"},"type":"array"}},"default":{"$ref":"#/responses/errorResponse"}},"summary":"Get recent events about the cluster"},"parameters":[{"in":"path","name":"name","required":true,"type":"string","uniqueItems":true}]},"/api/v1/clusters/{name}/info":{"get":{"operationId":"GetClusterInfo","responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/KlusterInfo"}},"default":{"$ref":"#/responses/errorResponse"}},"summary":"Get user specific info about the cluster"},"parameters":[{"in":"path","name":"name","required":true,"type":"string","uniqueItems":true}]},"/api/v1/openstack/metadata":{"get":{"operationId":"GetOpenstackMetadata","responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/OpenstackMetadata"}},"default":{"$ref":"#/responses/errorResponse"}},"summary":"Grab bag of openstack metadata"}},"/info":{"get":{"operationId":"Info","responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Info"}}},"security":[],"summary":"Get info about Kubernikus"}}},"produces":["application/json"],"responses":{"errorResponse":{"description":"Error","schema":{"$ref":"#/definitions/error"}}},"security":[{"keystone":[]}],"securityDefinitions":{"keystone":{"description":"OpenStack Keystone Authentication","in":"header","name":"x-auth-token","type":"apiKey"}},"swagger":"2.0"}